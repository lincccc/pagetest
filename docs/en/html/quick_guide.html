<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LPV: Quick Guide</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="lpv_stylesheet.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 100px;">
  <td id="projectlogo" style="padding-left: 1em; text-align: center; vertical-align: middle;"><img alt="Logo" src="lpv_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em; vertical-align: bottom; padding-bottom: 5px; ">
   <!--<div id="projectname">LPV-->
   <!--</div>-->
   <div id="projectbrief">Leaper Vision Toolkit</div>
   <div id="projectbrief"><a href="../../cn/html/index.html">中文</a> / <a href="../../en/html/index.html">English</a></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Quick Guide </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_Z__stonewall_doc_en_t01_quick_guide"></a> </p><h1>Install</h1>
<ol type="1">
<li>Extract lpv_xxxx.zip file to any directory.</li>
<li>[Optional] If you don't have Visual C++ Redistributable Package 14 or higher installed on your machine, you may have to download then install one from Microsoft's official website(<a href="https://support.microsoft.com/en-us/topic/the-latest-supported-visual-c-downloads-2647da03-1eea-4433-9aff-95f26a218cc0">https://support.microsoft.com/en-us/topic/the-latest-supported-visual-c-downloads-2647da03-1eea-4433-9aff-95f26a218cc0</a>), or <a href="http://fileserver.hzleaper.com:8085/d/f3af040915194d27a993/">our link</a>.</li>
<li>According to your required develop platform (x86 or x64), you should use either runner/x64 or runner/86 as your LPV runner folder, then register and use LPV dlls under that folder.</li>
</ol>
<h1>Registration via License File</h1>
<ol type="1">
<li>Run lpvKeyTool.exe under your LPV runner folder(either runner/x64 or runner/86). It generates a lpv.key file.</li>
<li>Send the generated lpv.key file to us or your LPV SDK Tech Support. We will send you back a lpv.lic file.</li>
<li>Put the license file under the root runner folder(./runner), and with the exactly name "lpv.lic".</li>
<li>RMC the reg_run_as_admin.bat file under the root runner folder, click Run as administrator. It will then register all licensed LPV dlls of all platforms(both x86 and x64).</li>
<li>Or, if you wish to only register one platform, RMC the reg32and64_run_as_admin.bat file under your LPV runner folder(for example runner/x86), click Run as administrator. It will then register all licensed LPV dlls of the specified platform.</li>
</ol>
<h1>Registration via Sentinel Protection Key</h1>
<ol type="1">
<li>Plug in the Sentinel Protection Key of LPV. Make sure the key blinks.</li>
<li>RMC the reg_run_as_admin.bat file under the root runner folder, click Run as administrator. It will then register all licensed LPV dlls of all platforms(both x86 and x64).</li>
<li>Or, if you wish to only register one platform, RMC the reg32and64_run_as_admin.bat file under your LPV runner folder(for example runner/x86), click Run as administrator. It will then register all licensed LPV dlls of the specified platform.</li>
</ol>
<h1>How to Add LPV Libraries to Visual Studio Projects</h1>
<h2>C<code>#</code></h2>
<ol type="1">
<li>RMC your C# project, click "Add Reference"</li>
<li>Under COM -&gt; Type Libraries panel, search and find <a class="el" href="namespace_l_p_v_core_lib.html" title="LPV Core Library, provide basic functionalities.">LPVCoreLib</a> (must-have) and other LPVXXXLibs according to your application, then click OK to add reference (and Interop) to them in your project.</li>
<li>In your code, add the line "using LPVCoreLib;" to start using core classes such as LImage.</li>
<li>The following code show a short example: <div class="fragment"><div class="line"> {c#}</div>
<div class="line">// add using.</div>
<div class="line">using LPVCoreLib;</div>
<div class="line"> </div>
<div class="line">// add definition of LPV class.</div>
<div class="line">LMatch m_lmatch = new LMatch();</div>
<div class="line"> </div>
<div class="line">// call LPV functions, such as set pattern matching&#39;s maximum count, or angle tolerance.</div>
<div class="line">m_lmatch.MaxCount = 1;</div>
<div class="line">m_lmatch.AngleTolerance = 180;</div>
<div class="line"> </div>
<div class="line">// call LPV functions and handle the returned error code, such as do pattern matching.</div>
<div class="line">LPVErrorCode errCode = m_lmatch.Match(m_source_img, (LRegion)m_roi, out m_match_results);</div>
<div class="line">if (errCode != LPVErrorCode::LPVNoError) {}</div>
</div><!-- fragment --></li>
</ol>
<h2>C++ (MFC)</h2>
<ol type="1">
<li>Copy "demo/mfcdemo/Wrappers" folder to your project folder, or add path to the wrapper folder to your project property's include path.</li>
<li>In your code, add the corresponding .h wrapper file of your required LPV class.</li>
<li>Add definition of the wrapper class, and create dispatch.</li>
<li>The following code show a short example: <div class="fragment"><div class="line"> {c++}</div>
<div class="line">// add include</div>
<div class="line">#include &quot;../Wrappers/LPVPat/CLMatch.h&quot;</div>
<div class="line"> </div>
<div class="line">// add definition of LPV class, it will call CreateDispatch in constructor to initialize the object.</div>
<div class="line">CLMatch m_lmatch;</div>
<div class="line">// or you can call CreateDispatch yourself, as following:</div>
<div class="line">// CLMatch m_lmatch(false);</div>
<div class="line">// // ... do something, and later</div>
<div class="line">// m_lmatch.CreateDispatch(__uuidof(LMatch));</div>
<div class="line"> </div>
<div class="line">// call LPV functions, such as set pattern matching&#39;s maximum count, or angle tolerance.</div>
<div class="line">m_lmatch.put_MaxCount(1);</div>
<div class="line">m_lmatch.put_AngleTolerance(180);</div>
<div class="line"> </div>
<div class="line">// call LPV functions and handle the returned error code, such as do pattern matching.</div>
<div class="line">LPVErrorCode errCode = (LPVErrorCode)m_lmatch.Match(m_source_img, m_roi, (LPDISPATCH*)&amp;m_match_results);</div>
<div class="line">if (errCode != LPVErrorCode::LPVNoError) {}</div>
</div><!-- fragment --></li>
</ol>
<h2>C++ (QT)</h2>
<ol type="1">
<li>You could use Active Qt to generate QAxObject wrappers for LPV classes, please follow the QT's <a href="https://doc.qt.io/qt-5/activeqt-container.html">official guide</a>.</li>
<li>Or, if you wish to use the pre-installed MFC wrapper, you should do all steps above in C++ (MFC) section.</li>
<li>Then copy framework.h under "demo/mfcdemo/Wrappers" folder to your QT project folder, and also add them to your QT project.</li>
<li>Modify your QT project's property:<ul>
<li>General -&gt; Use of MFC, set to "Use MFC in a Shared DLL".</li>
<li>C/C++ -&gt; Precompiled Headers -&gt; Precompiled Header, set to "Not Using Precompiled Headers".</li>
</ul>
</li>
<li>In all your cpp file uses LPV, include "framework.h" as the first one.</li>
<li>Now, you can write code the same way as C++(MFC).</li>
</ol>
<p>WARNING: Don't include MFC wrapper in a .h file with QT_OBJECT, it will cause compile error of the moc file. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
© 2021 <a href="http://www.hzleaper.com/">Hangzhou Leaper Tech. Ltd.</a>
</small></address>
</body>
</html>
